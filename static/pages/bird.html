<!DOCTYPE html>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<head>
<link href="assets://css/settings/history.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Montserrat:300, 400, 500" rel="stylesheet"> 
<link rel="icon" href="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCACWAJYDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAUGAgMEAQf/xAA3EAABAwIEAwUGBAcBAAAAAAABAAIDBBEFEiExQVFxBiJhgZETMqGxwdEUQlLhIzM0U2Jy8EP/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAgMEAQUG/8QAKBEAAwACAQMDAwUBAAAAAAAAAAECAxEEEiExEzJBIlFhFHGBkfCx/9oADAMBAAIRAxEAPwD6AiLRJMY5MpFwRcKvJknGuqvB1LZvRa2TMfsbHkVsUpubW5ezjWgiIpAIiIAiIgCIiAIiIAiIgCIiAIiIAuesjL4szfebquhcmIe1ZGJYXEFu9uIVHJSeKupbX+/4Sj3I4xIHeBWTauSIaG4HArgNSHOOezXc9gvTI4De4XzkZLh7TNvp78kzT10czbnuldIIIuDcKs09RkmMZG+o8RxXfHO5vejcvUxc9rtkWym8Gn2JhFGjFWR/1DcrP7g2HXl1Ugx7Xi7XAhejjzRk9rKKip8mSIitIhERAEREAREQBERAEREAWLy0MJf7ttVkvCARYi4K4/AK5X08YeTG9rmnYtN7dVGuZKwkxu9DZSmJ0bqaXPHfIdjy8FFyTubo5vnsvAcOba1r8HrYu8rXc8p5JH1AhqLjNrG8aWd1XcJCzRxIdzA3UTNUsIs5rgOYOy7GVQyhlRZ3KQcR4/suZcb7NInUM6xUA8Wu+BWhs89A7NS3dEPegOlv9eXRaHmmee7MB1NvmtZZIP5U4PQ3CRJxQvDLHQYzFVx5mOzW95p0c3qpJlRG8b26r57U/iIXfiGNySN1zMNiVZcKqTU0kEzvee3vcNRofktL5GXAk97n8mbNxlK6kWJFix2ZjXcwsl66e+5gCIi6AiIgCIiAIiIAiIgODFZJoqcuZEyWP84cDceKrD5mG9wW+G4V1IBBBFwVVsZp6OKZ3spgHX1iLTp0Nlh5OLb6jdxLXt0Rcj4TuWnyWMJztLI7SMbwGhb6rB8beV+hutIcIH+0jeGOHjv4ELOp2tI9NT27HQ+AEX281yyU45qRY4ysDpIsoIuHNcCD9VrlEQ4EqM009HFbRGSRvDHATOAttc6qe7NTZsNa0m5jkIPTf6lRbyw7Q3W/s5KWVFRTloaHDMOoNvr8E5CdYX+O5zMuqGXmkdmhHgbLeo3D5gH2JHeFvNSS3cTJ6mJP7Hh3OqCIi1EAiIgCIiAIiIAiIgC4MTwuLEGXPclGz/oV3rxcqVS0yU04e5KDiGHTUUmWdtr7EG4Kj3saN72Vkxzsl+IkfUYe4B7jd0Tzoeh4dFU6vD6qjcG1UEkZ4Zm6HoVSsC+Ge9gzTklae3/RtirnUhyxPBYTqx2o/Zbn4s4jSnbm530UWQBv8V4HWNtbeCs/TY29tFj1v6kjqlramUnvBg5NCwoqk0tbFUEufkdd2upHH4LVofzXWN7bKx45cuUjlqdH0GCSxGV1wdWkHdTVNMJowb94bhUfAK72tP8Ahnu/ixe74t/b5WU/T1Lo3BzTqNxzXhYbriZXFeP93PLzYuon0XPT1cc40NncWldC9qam1uWYWmnphaYJxMZBxY8tW5QkU5psVqGnZzr/APf9wVeXL6em/BOI60ybRYscHtDmm4KyVyeysIiIAiIgCIiA8VWxnsk6qldPSVLi92pZO4u9Hb+qtSIWY8tYnuT5ViGGVGHSCOqDGuPASAn0B0XGTbZfRsQ7L4dXPdJlfDK43Lozv5HRU/HMKiwyf2UT55SN3OiytHQ8VZL2evh5M5Oy8/sRAzXvfTkmYHj8F7YngvDoLBWose0ZwyPhkbLE4te03BVow/EY61gtZkzR3mfUeHyVTtlF+K9a90dntcWuBuCNCFk5PEnOvyU1ryy8ibnoeYXTFic8ezw8cnaqpUeOyAZapntP82WDvMbH4KTiraeb3Jm35OOU/FeVXGz4Htf2ilenfksTMbIHfhBPNrrLirKmKqqBJEHMktqDx6KPLnDmsHPvv5EcFG8l5J6aZOcEy9on6CsLDZ23EfVTDXBzQQbgqo0lTneGONpOB/V+6sWGy54y08NQrOHnqb9G/wCDJyMXT3O1EReqZAiIgCLlqamSmu90LpIuJj1c3qPstUOL4fUAhtSweD+7813TI9S3pneuaqqjStzmnmlZxMQDiOo39LrjqYa0j2mF1wcP7byHDycoWpx3F6N+Sojax3+Ue/mrJxuvA60vJLt7T4SdHVRYRwdG4fRJO0+DtGtXm8BG4/RVDEcQmxA5po4C79TWWd6qMc1o3aR8VasC+Sc1DJztDi+H4i0NhkqWtbtG2JrWuPMm91W8w5epW4hnMeix/hjiFYsaSNMZ6jsn2NZ11Jv0XmQvPgthcwC9iegXQ2B53s3rqpKUiGXk7X1M0NYALBNzZve6Le6BodY3dbmp3sxhLa+qMszb08Nri2jjwC5VKVszervsjnwbs9iVY0SNkNJAfzXNyPABWSLsy1jLSV00h5lrR9L/ABU6AALDQL1YcjWT3JFk3U+GV2p7OyNZmppg541AItrwsuzBXOcXe0aWPAs9p4FSywEbRIXgWc4WJ5rJXGnrm5+C2s9VPTRmiItRQEREAUXiOB0tbd7R7GU/maND1ClEXU2vBxyqWmUWuwiuoCXGMvYP/SPUfcKOkmme3L7eTL+kuNvRfS1wVmD0FZczU7cx1zM7p+G6unN90UvDr2s+duzDdod4jRa3PtwePK6uFT2QYbmmq3N5Nkbf4j7KNl7K4oz3fYyf6vt8wFessv5Cml5K8Xt/UPMLAuHAjyCmn9ncZB/pL9JG/deN7M4y8/0ob4mRv3UuufuTSIJ+ctNg4qVbqAeYupCHsZiMjh7aaCJvGxJPpb6r3EsGfhAhYZDMwtsH5ba8lF3LekyvOvp2RTx3yr12ZhEOCwkbyEvPr9gFSXt711d+zUwlwaJo3jJYfW/yIVWX2kcD2yVREWY1BERAEREAREQBERAEREAREQBERAFz1tJFW0zoZhodjxB5roRDjW+zKHiGGz0MpZK0lh914GhW3BMSOG1Jz3MMmjwOHirpJGyVhZI1r2ncOFwoqo7OUUpJjzxHk03HxVvqbWmZXgqXuGSsUrJo2yRPD2O1BBWahaXA5qJ+amxB7Ad2mO4PldS8YkDLSOa53NrbfUqt6+DRLp+5aM0RFwmEREAREQBERAEREAREQBERAEREAREQBERAEREAREQH/9k=">
<style>
html, body {background: none !important; }
body { background-color: var(--nord6) !important; }
* {box-sizing: border-box; }
.svg-icon {
width: 1em;
height: 1em;
}

.svg-icon path,
.svg-icon polygon,
.svg-icon rect {
fill: white;
}

.svg-icon circle {
stroke: white;
stroke-width: 1;
}

.chat-header-button i18n { color:white; }
::-webkit-scrollbar {
width: 6px;
}

/* Track */
::-webkit-scrollbar-track {
background: #f1f1f1; 
}

/* Handle */
::-webkit-scrollbar-thumb {
background: rgb(175, 175, 175); 
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
background: #555; 
}

.participants::-webkit-scrollbar {
width: auto;
height: 5px;
}

.injoinusers {
margin: 0 auto;
align-items: center;
width: max-content;
background: whitesmoke;
border-radius: 50px;
padding: 10px  20px !important;
margin-top: 8px;
margin-bottom: 8px;
}
button:disabled {
opacity: 0.7;
}

.hjjcXz {
margin-top: 0;
}

.odaimagesuploadss, .odaimagesuploadss input {cursor: pointer;} .odaimagesuploadss:hover { background: #e8e8e8;}

#prossloaderss {
display: none;
position: fixed;
top: 0;
bottom: 0;
left: 0;
right: 0;
background: rgb(0 0 0 / 44%);
z-index: 999999999999;
}
.center_loc{
position: fixed;
text-align: center;
left: 0;
right: 0;
margin: 0 auto;
top: 50%;
-webkit-transform: translateY(-50%);
transform: translateY(-50%);
z-index: 99999;
}
.loaderimageslo { width:50px; height:50px; }

.message-wrapper.reverse .message a {color: white;}
.message-wrapper .message a {color: black;}

* {user-select: auto !important; }
.chat-container-real {
max-width: 369px;
}
.message {
width: 100%;
max-width: 290px !important;
word-wrap: break-word !important;
}

.right-side.show .message{ max-width: 100% !important; }
.right-side.show .chat-container-real{ max-width: 100% !important; }
.right-side.show .participants{ width: 100% !important; }
.emptyvacls {
padding: 140px 89px;
text-align: center;
background: white;
width: 100%;
height: 100%;
}
.imsaviolosempy {padding-bottom: 40px;}

.dark * { 
color: inherit;
}

.dark .emptyvacls { 
background: var(--chat-background);
color: white;
}

.dark .hjjcXz { 
background-color: var(--chat-background);color: white;
}

.dark .chat-header { 
border-color: var(--message-bg) !important;
}

.dark .app-main-parts .chat-container i18n { 
color: white; 
}

.dark #micsvgicon, .dark #camsvgicon {filter: invert(1);}
.dark #endcall {color: #ffffff;}

.video-participant video {
width: 100%;
height: 100%;
object-fit: cover;
background-color: black;
}

.name-tag, .participant-actions {
z-index: 999;
}
.video-call-wrapper {
overflow: auto;
}

.volume {
padding: 9px 5px;
position: absolute;
width: 100%;
bottom: 0;
background: rgb(0 0 0 / 68%);
z-index: 99999;
display: flex;
}

.chat-container {
height: calc(100% - 144px);
}
</style>
<link rel="stylesheet" type="text/css" href="assets://global.css">
<link rel="stylesheet" type="text/css" href="assets://css/poco/style.css">
<link rel="stylesheet" type="text/css" href="assets://css/poco/login.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title id="i18n">Bird Messenger</title>
</head>
<html>
<body>

<!-- Login Start -->
<div id="starterloginpoco" style="display: none;" class="loginuptimevolu"> 
<section style="background: #efefef;" class="user">
<div class="user_options-container">
<div class="user_options-text">
<div class="user_options-unregistered">
<h2 class="user_unregistered-title"><i18n>Hızlı Ve Güvenilir iletişim</i18n></h2>
<p class="user_unregistered-text"><i18n>pocoinfo1</i18n></p>
<p style="margin-top: 15px;" class="user_unregistered-text"><i18n>pocoinfo2</i18n></p>
<a href="https://github.com/muaz-khan/RTCMultiConnection" target="_blank">
<button class="user_unregistered-signup" id="signup-button"><i18n>RTCMultiConnection Nedir?</i18n></button>
</a>
</div>
</div>
<div class="user_options-forms" id="user_options-forms">
<div style="top: 0;height: 100%;" class="user_forms-login">
<img style="width: 100%;max-width: 120px;margin: 0 auto;text-align: center;display: flex;margin-bottom: 22px;margin-top: 31px;" src="assets://images/poco/hide-chat.png">
<h2 style="text-align: center;margin-bottom: 20px;font-size: 16px;" class="forms_title"><i18n>Poco Hoşgeldin</i18n></h2>
<form class="forms_form">
<fieldset class="forms_fieldset">
<div class="forms_field">
<input type="text" id="f_username" minlength="3" maxlength="20" placeholder="Username" class="forms_field-input i18n" required autofocus />
</div>
<div class="forms_field">
<input type="text" id="f_fullname" minlength="2" maxlength="35" placeholder="Fullname" class="forms_field-input i18n" required />
</div>
<div class="forms_field" style="display: flex;">
<img style="display: none;width: 35px;height: 35px;text-align: center;align-items: center;margin: 0 auto; border-radius: 50px; object-fit: cover;" id="getimageload" src="//:0">
<button id="imgloadbtns" style="margin-top: 0;margin: 0 auto;font-size: 11px;background-color: #1b2935;" type="button" onclick="selectImages()" class="forms_buttons-action i18n"><i18n>Image Select</i18n></button>
<input style="display: none;" type="url" id="f_imageurl" placeholder="Image Avatar URL (jpg,png,gif)" class="forms_field-input i18n" required />
<input id="selecImagePıckers" class="displaynonesss" min="1" max="1" type="file" accept="image/*" style="display: none;" (change)="inputSelectPictureNewsPicker($event)">
</div>
</fieldset>
<div class="forms_buttons">
<button style="margin-top: 0; margin: 0 auto;background-color: #3c3c3c;" type="button" onclick="sondLogins()" class="forms_buttons-action i18n"><i18n>Log In</i18n></button>
</div> 
</form>
</div>
</div>
</div>
</section>
</div>
<!-- Login END -->



<!-- Main Genel Start -->
<div id="starterMainPoco" style="display: none; width: 100%;height: 100%;transition: 0.2s;" class="starterMainPoco"> 
<div class="app-container">

<button class="mode-switch">
<svg class="sun" fill="none" stroke="#fbb046" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-sun" viewBox="0 0 24 24"><defs/><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
<svg class="moon" fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-moon" viewBox="0 0 24 24"><defs/><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
</button>

<div class="left-side">
<div class="navigation">

<a onclick="manuelDisconnet();" class="nav-link icon">
<svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home">
<path fill="none" d="M15.971,7.708l-4.763-4.712c-0.644-0.644-1.769-0.642-2.41-0.002L3.99,7.755C3.98,7.764,3.972,7.773,3.962,7.783C3.511,8.179,3.253,8.74,3.253,9.338v6.07c0,1.146,0.932,2.078,2.078,2.078h9.338c1.146,0,2.078-0.932,2.078-2.078v-6.07c0-0.529-0.205-1.037-0.57-1.421C16.129,7.83,16.058,7.758,15.971,7.708z M15.68,15.408c0,0.559-0.453,1.012-1.011,1.012h-4.318c0.04-0.076,0.096-0.143,0.096-0.232v-3.311c0-0.295-0.239-0.533-0.533-0.533c-0.295,0-0.534,0.238-0.534,0.533v3.311c0,0.09,0.057,0.156,0.096,0.232H5.331c-0.557,0-1.01-0.453-1.01-1.012v-6.07c0-0.305,0.141-0.591,0.386-0.787c0.039-0.03,0.073-0.066,0.1-0.104L9.55,3.75c0.242-0.239,0.665-0.24,0.906,0.002l4.786,4.735c0.024,0.033,0.053,0.063,0.084,0.09c0.228,0.196,0.354,0.466,0.354,0.76V15.408z"></path>
</svg>
</a>

<a onclick="manuelSesionDelete();" href="#" class="nav-link icon">
<svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home">
<path fill="none" d="M16.471,5.962c-0.365-0.066-0.709,0.176-0.774,0.538l-1.843,10.217H6.096L4.255,6.5c-0.066-0.362-0.42-0.603-0.775-0.538C3.117,6.027,2.876,6.375,2.942,6.737l1.94,10.765c0.058,0.318,0.334,0.549,0.657,0.549h8.872c0.323,0,0.6-0.23,0.656-0.549l1.941-10.765C17.074,6.375,16.833,6.027,16.471,5.962z"></path>
<path fill="none" d="M16.594,3.804H3.406c-0.369,0-0.667,0.298-0.667,0.667s0.299,0.667,0.667,0.667h13.188c0.369,0,0.667-0.298,0.667-0.667S16.963,3.804,16.594,3.804z"></path>
<path fill="none" d="M9.25,3.284h1.501c0.368,0,0.667-0.298,0.667-0.667c0-0.369-0.299-0.667-0.667-0.667H9.25c-0.369,0-0.667,0.298-0.667,0.667C8.583,2.985,8.882,3.284,9.25,3.284z"></path>
</svg>
</a>
<!--
<a href="#" class="nav-link icon">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone-call" viewBox="0 0 24 24">
<path d="M15.05 5A5 5 0 0119 8.95M15.05 1A9 9 0 0123 8.94m-1 7.98v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/>
</svg>
</a>
<a href="#" class="nav-link icon">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-hard-drive">
<line x1="22" y1="12" x2="2" y2="12"/>
<path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"/>
<line x1="6" y1="16" x2="6.01" y2="16"/>
<line x1="10" y1="16" x2="10.01" y2="16"/>
</svg>
</a>
<a href="#" class="nav-link icon">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users">
<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
<circle cx="9" cy="7" r="4"/>
<path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
<path d="M16 3.13a4 4 0 0 1 0 7.75"/>
</svg>
</a>
<a href="#" class="nav-link icon">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder" viewBox="0 0 24 24">
<path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/>
</svg>
</a>
<a href="#" class="nav-link icon">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="3"/>
<path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
</svg>
</a>
-->
</div>
</div>





<div id="odakurs" class="app-main" style="overflow: auto;display: block;padding: 45px 32px 45px 32px;">


<div class="app-main-parts" style="align-items: baseline;flex-direction: initial; display: flex;">

<div class="chat-container" style="height: auto;width: 100%;margin-top: 0px;margin-bottom: 15px;">
<div class="chat-header">
<button class="chat-header-button" style="background-image: none;padding: 9px 14px 9px 14px;">
<i18n>Geçmiş - Oluşturduğun Ve Giriş Yaptığın Odalar</i18n>
</button>
</div>
<div id="newHistoryPagesID" onscroll="scrollLoadDatas()" style="padding: 0px;font-size: 13px;max-height: 230px;overflow: auto;">
<div id="list"></div>
<div id="nothing-here" style="display: none;" class="sc-goxci2 hjjcXz">
<div class="sc-1bmyqzo heDebU"><i18n>İşlem Geçmişi Bulunamadı.</i18n></div>
</div>
</div>
</div>


</div>




<div class="app-main-parts" style="align-items: baseline;flex-direction: initial; display: flex;">

<div class="chat-container" style="height: auto;width: 100%;margin-top: 0px;margin-right: 15px;">
<div class="chat-header">
<button style="padding: 10px 14px 9px 40px;" class="chat-header-button"><i18n>Yeni Oda Oluştur</i18n></button>
</div>

<div class="chat-typing-area-wrapper">
<div class="chat-typing-area">
<input type="text" disabled style="width: 80px;max-width: 80px;" value="#room-id:" class="chat-input">
<input type="text" onkeyup="return passwordChanged('createrommid','strength', 'btnyarats');" id="createrommid" placeholder="Oda Giriş Anahatarı ID" class="chat-input i18n">
<span id="strength" style="font-size: 10px;padding: 10px 10px;"></span>
<button onclick="randomKeyids()" class="send-button">
<svg class="svg-icon" viewBox="0 0 20 20">
<path d="M12.319,5.792L8.836,2.328C8.589,2.08,8.269,2.295,8.269,2.573v1.534C8.115,4.091,7.937,4.084,7.783,4.084c-2.592,0-4.7,2.097-4.7,4.676c0,1.749,0.968,3.337,2.528,4.146c0.352,0.194,0.651-0.257,0.424-0.529c-0.415-0.492-0.643-1.118-0.643-1.762c0-1.514,1.261-2.747,2.787-2.747c0.029,0,0.06,0,0.09,0.002v1.632c0,0.335,0.378,0.435,0.568,0.245l3.483-3.464C12.455,6.147,12.455,5.928,12.319,5.792 M8.938,8.67V7.554c0-0.411-0.528-0.377-0.781-0.377c-1.906,0-3.457,1.542-3.457,3.438c0,0.271,0.033,0.542,0.097,0.805C4.149,10.7,3.775,9.762,3.775,8.76c0-2.197,1.798-3.985,4.008-3.985c0.251,0,0.501,0.023,0.744,0.069c0.212,0.039,0.412-0.124,0.412-0.34v-1.1l2.646,2.633L8.938,8.67z M14.389,7.107c-0.34-0.18-0.662,0.244-0.424,0.529c0.416,0.493,0.644,1.118,0.644,1.762c0,1.515-1.272,2.747-2.798,2.747c-0.029,0-0.061,0-0.089-0.002v-1.631c0-0.354-0.382-0.419-0.558-0.246l-3.482,3.465c-0.136,0.136-0.136,0.355,0,0.49l3.482,3.465c0.189,0.186,0.568,0.096,0.568-0.245v-1.533c0.153,0.016,0.331,0.022,0.484,0.022c2.592,0,4.7-2.098,4.7-4.677C16.917,9.506,15.948,7.917,14.389,7.107 M12.217,15.238c-0.251,0-0.501-0.022-0.743-0.069c-0.212-0.039-0.411,0.125-0.411,0.341v1.101l-2.646-2.634l2.646-2.633v1.116c0,0.174,0.126,0.318,0.295,0.343c0.158,0.024,0.318,0.034,0.486,0.034c1.905,0,3.456-1.542,3.456-3.438c0-0.271-0.032-0.541-0.097-0.804c0.648,0.719,1.022,1.659,1.022,2.66C16.226,13.451,14.428,15.238,12.217,15.238"></path>
</svg>
</button>
</div>

<div style="margin: 10px 0;" class="chat-typing-area">
<input type="text" id="createrommname" placeholder="Odanın Adı" class="chat-input i18n">
</div>

<div class="chat-typing-area odaimagesuploadss" onclick="imageuploads()">
<input disabled type="text" id="createrommimages" placeholder="Odanın Resmi" class="chat-input i18n">

<input style="display: none;" type="text" id="oda_imageurl"/>
<input id="selecImagePıckersOda" class="displaynonesss" min="1" max="1" type="file" accept="image/*" style="display: none;" (change)="inputSelectPictureNewsPickerOda($event)">

<button class="send-button">
<img style="display: none;width: 32px;height: 32px;text-align: center;align-items: center;margin: 0 auto; border-radius: 7px; object-fit: cover;" id="getimageloadoda" src="//:0">
<svg id="svgodaimageup" class="svg-icon" viewBox="0 0 20 20">
<path d="M18.555,15.354V4.592c0-0.248-0.202-0.451-0.45-0.451H1.888c-0.248,0-0.451,0.203-0.451,0.451v10.808c0,0.559,0.751,0.451,0.451,0.451h16.217h0.005C18.793,15.851,18.478,14.814,18.555,15.354 M2.8,14.949l4.944-6.464l4.144,5.419c0.003,0.003,0.003,0.003,0.003,0.005l0.797,1.04H2.8z M13.822,14.949l-1.006-1.317l1.689-2.218l2.688,3.535H13.822z M17.654,14.064l-2.791-3.666c-0.181-0.237-0.535-0.237-0.716,0l-1.899,2.493l-4.146-5.42c-0.18-0.237-0.536-0.237-0.716,0l-5.047,6.598V5.042h15.316V14.064z M12.474,6.393c-0.869,0-1.577,0.707-1.577,1.576s0.708,1.576,1.577,1.576s1.577-0.707,1.577-1.576S13.343,6.393,12.474,6.393 M12.474,8.645c-0.371,0-0.676-0.304-0.676-0.676s0.305-0.676,0.676-0.676c0.372,0,0.676,0.304,0.676,0.676S12.846,8.645,12.474,8.645"></path>
</svg>
</button>
</div>

<div style="margin: 10px 0;" class="chat-typing-area">
<input type="password" id="createrommpass" placeholder="Odanın Şifresi (İsteğe Bağlı)" class="chat-input i18n">
<button onclick="odakurpasslooks()"  class="send-button">
<svg id="odakurpassloksss" class="svg-icon" viewBox="0 0 20 20">
<path d="M10,6.978c-1.666,0-3.022,1.356-3.022,3.022S8.334,13.022,10,13.022s3.022-1.356,3.022-3.022S11.666,6.978,10,6.978M10,12.267c-1.25,0-2.267-1.017-2.267-2.267c0-1.25,1.016-2.267,2.267-2.267c1.251,0,2.267,1.016,2.267,2.267C12.267,11.25,11.251,12.267,10,12.267 M18.391,9.733l-1.624-1.639C14.966,6.279,12.563,5.278,10,5.278S5.034,6.279,3.234,8.094L1.609,9.733c-0.146,0.147-0.146,0.386,0,0.533l1.625,1.639c1.8,1.815,4.203,2.816,6.766,2.816s4.966-1.001,6.767-2.816l1.624-1.639C18.536,10.119,18.536,9.881,18.391,9.733 M16.229,11.373c-1.656,1.672-3.868,2.594-6.229,2.594s-4.573-0.922-6.23-2.594L2.41,10l1.36-1.374C5.427,6.955,7.639,6.033,10,6.033s4.573,0.922,6.229,2.593L17.59,10L16.229,11.373z"></path>
</svg>
</button>
</div>

<div class="chat-typing-area">
<input type="password" id="createrommpasstry" placeholder="Odanın Şifresi Tekrar" class="chat-input i18n">
</div>

</div>

<div style="padding: 16px; font-size: 13px;">
<i18n>Oda giriş anahtarınız benzersiz olmalıdır.<br> Oda anahtarınızı sadece oadaya katılacak kişiler ile paylaşmalısın.</i18n>
</div>

<div style="border-top: 1px solid #f5f5f5;" class="chat-header">
<button disabled id="btnyarats" onclick="createRooms()" style="background-image: initial;width: 100%;" class="chat-header-button"><i18n>Oluştur</i18n></button>
</div>

</div>


<div class="chat-container" style="height: auto;width: 100%;margin-top: 0px;">
<div class="chat-header">
<button style="padding: 10px 14px 9px 40px;" class="chat-header-button"><i18n>Var Olan Odaya Giriş Yap</i18n></button>
</div>
<div class="chat-typing-area-wrapper">
<div class="chat-typing-area">
<input type="text" disabled style="width: 80px;max-width: 80px;" value="#room-id:" class="chat-input">
<input id="loginrommid" onkeyup="return passwordChanged('loginrommid', 'strength2', 'btnkatils')"; type="text" placeholder="Oda Giriş Anahatarı ID" class="chat-input i18n">
<span id="strength2" style="font-size: 10px;padding: 10px 10px;"></span>
</div>
</div>

<div style="padding: 16px; font-size: 13px;">
<i18n>Oda giriş anahtarı odayı kuran kişi tarafından alınır.<br> Lütfen geçerli bir oda anahtarı kodu girin.</i18n>
</div>

<div style="border-top: 1px solid #f5f5f5;" class="chat-header">
<button disabled id="btnkatils" onclick="loginRooms()" style="background-image: initial;width: 100%;" class="chat-header-button">
<i18n>Katıl</i18n>
</button>
</div>
</div>

</div>


</div>





<div id="callsconnect" style="display: none;" class="app-main">

<div class="video-call-wrapper" id="video-call-wrapper">
<div id="emptyvacls" class="emptyvacls">
<img class="imsaviolosempy" src="assets://images/poco/empty.svg"><br>
<i18n>Henüz kimse burada değil. İnsanları sana katılmaya davet et!</i18n>
</div>
</div>


<div style="
justify-content: space-between;
align-items: center;
/* padding-top: 64px; */
max-width: 500px;
background: rgb(0 0 0 / 56%);
padding: 20px 15px;
border-radius: 15px;
position: absolute;
bottom: 0;
margin-bottom: 128px;
display: none;
" class="video-call-actionsc" id="selectallInputDevices" style="display: xnone;"> 
<i18n style="color: white;font-size: 14px;">Mikrofon Giriş Aygıtı</i18n><br>
<select onchange="changeDevicesPutIn(event, 'audioInputDevices')" style="
padding: 9px 8px;
border: solid 1px #cecece;
margin-bottom: 15px;
width: 100%;
border-radius: 5px;
" name="select-videoInputDevices" id="selectaudioInputDevices">
</select>
<i18n style="color: white;font-size: 14px;">Kamera Giriş Aygıtı</i18n><br>
<select onchange="changeDevicesPutIn(event, 'videoInputDevices')" style="
padding: 9px 8px;
border: solid 1px #cecece;
margin-bottom: 15px;
width: 100%;
border-radius: 5px;
" name="select-videoInputDevices" id="selectvideoInputDevices">
</select>
<br>
<i18n style="color: white;font-size: 14px;">Değişikliğin uygulanabilmesi için bağlantınızın kapalı olması gerekir.</i18n>
</div>

<div class="video-call-actions" id="video-call-actions-on" style="display: none;">
<button id="mic" style="background-image: none;"  class="video-action-button mic magnifier">
<img id="micsvgicon" style="width:30px; height:30px;" src="assets://images/poco/mic_none.svg">
</button>

<button id="camera" style="background-image: none;" class="video-action-button camera magnifier">
<img id="camsvgicon" style="width:30px; height:30px;" src="assets://images/poco/cam_none.svg">
</button>

<button style="display: none;" id="maximize" class="video-action-button maximize"></button>

<button id="endcall" class="video-action-button endcall"><i18n>Bağlantıyı Kes</i18n></button>
</div>

<div class="video-call-actions" id="connectloaderstreamoff" style="display: none;">
<button id="connectloaderstreamoffx" style="background-image: none;"  class="video-action-button mic magnifier">
<img style="width:30px; height:30px;" src="assets://images/loader.gif">
</button>
</div>

<div class="video-call-actions" id="video-call-actions-off">
<button id="startcall" class="video-action-button magnifier">
<div style="display: none;" id="xstreamidsetget" class="xstreamidsetget"></div>
<div style="display: none;" id="xremoteuserididsetget" class="xremoteuserididsetget"></div>
<svg style="margin-right: 10px;" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone-call" viewBox="0 0 24 24">
<path d="M15.05 5A5 5 0 0119 8.95M15.05 1A9 9 0 0123 8.94m-1 7.98v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
</svg>
<i18n>Bağlan</i18n>
</button>

<button style="display: none;" id="screenlivecall" class="video-action-button magnifier">
<div style="display: none;" id="xstreamidsetget" class="xstreamidsetget"></div>
<div style="display: none;" id="xremoteuserididsetget" class="xremoteuserididsetget"></div>
<svg style="margin-right: 10px;" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone-call" viewBox="0 0 24 24">
<path d="M15.05 5A5 5 0 0119 8.95M15.05 1A9 9 0 0123 8.94m-1 7.98v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
</svg>
Ekran Paylaş
</button>



<button onclick="inputoutpuVisebled()" id="inputoputbuttbtns" style="background-image: none;"  class="video-action-button mic magnifier">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="3"/>
<path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
</svg>
</button>
</div>

</div>




<div id="chatsconnect" style="display: none;" class="right-side">
<button class="btn-close-right">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-x-circle" viewBox="0 0 24 24">
<defs></defs>
<circle cx="12" cy="12" r="10"></circle>
<path d="M15 9l-6 6M9 9l6 6"></path>
</svg>
</button>

<div onclick="openrommidloooks('roomidinputs')" class="participants" style="cursor: pointer;max-width: none;overflow: auto;width: 369px;flex-direction: row;margin-top: 0;margin-bottom: 16px;" id="copysisaddnewjoinedusers">                                                               
<div style="padding: 6px 12px;margin-right: 10px;font-size: 12px;width: 30%;" class="participant-more">
<i18n style="display: block;">Room-ID</i18n>
</div>
<input class="linkToCopy" type="password" style="
background: #f9f9f9;
border: solid 1px #efefef;
border-radius: 10px;
width: 100%; text-align: center;cursor: pointer
" id="roomidinputs" disabled value="">
</div>

<div class="chat-container chat-container-real">
<div class="chat-header">
<button class="chat-header-button">
<i18n>Live Chat</i18n>
</button>
</div>

<!--Ana mesajlar burada-->
<div class="chat-area" id="chat-area-le">
</div>

<div class="chat-typing-area-wrapper">
<div class="chat-typing-area typingss" id="typingsss" style=" display: none;
font-size: 12px;
background: transparent;
box-shadow: none;
position: absolute;
margin-top: -40px;
">
</div>
<div class="chat-typing-area">
<input type="text" placeholder="Type your meesage..." id="chatmessgess" class="chat-input i18n">
<button onclick="sendMessage()" class="send-button">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send" viewBox="0 0 24 24">
<path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
</svg>
</button>
</div>
</div>

</div>


<div class="participants" style="
max-width: none;
overflow: auto;
width: 369px;
flex-direction: row;
" id="addnewjoinedusers">                                                               
<div style="padding: 6px 12px;margin-right: 10px;font-size: 12px;" class="participant-more"><i18n>Aktif Kişiler</i18n></div>
</div>
</div>


<button id="chathidesmenuss" class="expand-btn">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
</button>
</div>

</div>
<!-- Main Genel END -->


<div id="prossloaderss">
<div class="center_loc">
<img class="loaderimageslo" src="assets://images/loader.gif">
</div>
</div>

<audio style="display: none;" id="audioOfficsals" controls>
<source src="" type="audio/mpeg">
Your browser does not support the audio element.
</audio>

<script src="assets://js/page/poco/sha1.min.js"></script>
<script src="assets://js/page/poco/data.js"></script>

<script>
/** check sesions **/
function chechkSesions() {
let app_data = sendSync('addPocoLoginData', 'getshow', '');
if(app_data){
var starterloginpoco = document.getElementById('starterloginpoco');
starterloginpoco.remove();
var starterMainPoco = document.getElementById('starterMainPoco');
starterMainPoco.style.display = 'flex';
} else {
var starterloginpoco = document.getElementById('starterloginpoco');
starterloginpoco.style.display = 'block';
var starterMainPoco = document.getElementById('starterMainPoco');
starterMainPoco.remove();
}
}
chechkSesions();


/** Login First Variables */
function toSeoUrl(url) {
var newurls = url.toString()
.replace(/[|&;$%@"<>()+,-]/g, "")
.normalize('NFD')
.replace(/[\u0300-\u036f]/g,'')
.replace(/\s+/g,'')
.toLowerCase()
.replace(/&/g,'_')
.replace(/[^a-z0-9\_]/g,'')
.replace(/-+/g,'_')
.replace(/^-*/,'')
.replace(/-*$/,'')
.replace(/%20/g, '')
.replace(/ /g, '');
return newurls.toLowerCase().trim();
}

function sondLogins(){
var f_username = document.getElementById('f_username');
var get_username = toSeoUrl(f_username.value);
var f_fullname = document.getElementById('f_fullname');
var f_imageurl = document.getElementById('f_imageurl');
if(get_username.length >= 3){
if(get_username && f_fullname.value.replace(/ /g, '')){

var iamgesgset; 

if(f_imageurl.value){
iamgesgset = f_imageurl.value
} else {
iamgesgset = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCACWAJYDASIAAhEBAxEB/8QAGgABAQEAAwEAAAAAAAAAAAAAAAEFAwQGAv/EADAQAQACAQMBBgQEBwAAAAAAAAABAgMEBREhEhMiMVFxI0FSgRU0YdEUMjNCcpHB/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAMEBQIB/8QAIhEBAAICAQQDAQEAAAAAAAAAAAECAxEEEiEiMTJBQmFx/9oADAMBAAIRAxEAPwDugNRjgAAAAAAAAAAAAAAAAAAAAAAAC1ra9orWJmZ8oh9YMN8+WMeOObS9Do9Fj0tOkc3nzsiyZYp/qbFhnJP8ZmDZ8145y2jHHp5y7H4Jj4/rW59oapwqTnvP2uxx8cfTBz7RnxxM45jJHpHSWfMTWZiYmJjziXruHT12gx6qsz0rkjyt+6THyJ9WRZONGt0edH1lx3xZLUvHFo84fK5E7UZjXYAAAAAAAAAAIiZmIiOZkaOzabvM05rR4aeXu5vbpjbulJvbUNHbtHGlw9Y+Jbraf+O4DMtM2nctWtYrGoUB49EUB0N00UajF26R8Snl+sejz71zA3bS9xqO3WPBk6+0rfHyfmVPk4/1DoALakAAAAigAABEczxD02jwxp9NTH84jr7sPbcXe62kT5V8U/Z6JT5NvyvcWnuyqnIqrj6EAUAeDq7jg/iNJesR4o8Vfd2R7WdTt5avVGpeRHPrsXc6vJT5c8x7S4GpE7jbItGp0APXgAAAAADV2SnXLk9qw1mfs9eNHM+tpd9nZZ3eWpgjVIVeUESZ9CcnIPoQBUOU5Bi73TjPjyfVXifszWzvdecGO3pZjNHDO6QzORGskgCVAgoAAAADd2n8lX3l3Wds9udLav02aDMy/OWrindIURXCVRAFEUAEB0N6/KV/zhiNfe7cYsVfW0yyGhx/gzeTPmAJlcEAUAAAGhs2Xs5r45/ujmPs2HmsOScOWuSvnWeXo8d65KVvWeYtHMKPIrq22hxb7r0vpUFdaUADlUAUHHny1w4rZLT0rBEb7PJnUbY+75e3quxHlSOPu6K3vOTJa9vO08yjUpXprEMm9uq0yAOnAAAAAAA0tq1cUnuMk+Gf5Z9J9GaOb0i8al3S80tuHqFZeh3KOIxaif0i/wC7TiYmOYnmGdek0nUtSmSLxuFAcOxRLWisTMzERHzkFYm6azvr91jnwVnrPrLk1+49uJxYJ6fO3r7Mxcw4teVlHPm341AFpTAAAARQAAABAVz4NZn0/Slua/TPWHAPJrE9pexaazuGrj3mvHxMUxPrWXJ+L6f6cn+mMIZwUTxybw1Mm8xx8LFPvaXRz6vNqJ+Jbp9MdIcI7rirX1Di2W9vcgCREAAAAAAAAigAAAAAAAAAAAAAAAAD/9k=";
}

var datass = { username: get_username, fullname: f_fullname.value, avatar: iamgesgset };
send('addPocoLoginData', 'saveItem', datass);

setTimeout(() => {
window.location.reload();
}, 300);
} else {
alert(i18n.__('Kullanıcı Adı ve İsim Boş Bırakılamaz!'));
}
} else {
alert(i18n.__('Kullanıcı Adı En Az 3 Karakter Olmalı!'));
}


}
</script>

<script src="assets://js/page/poco/RTCMultiConnection.min.js"></script>
<script src="assets://js/page/poco/socket.io.js"></script>

<script> 
this.prossloaderss = document.getElementById('prossloaderss');
this.dataUserXs = sendSync('addPocoLoginData', 'getshow', '');
if(this.dataUserXs){

var odakurs = document.getElementById('odakurs');
var btnyarats = document.getElementById('btnyarats');
var btnkatils = document.getElementById('btnkatils');

var chatsconnect = document.getElementById('chatsconnect');
var callsconnect = document.getElementById('callsconnect');

var createrommname = document.getElementById('createrommname');
var oda_imageurl = document.getElementById('oda_imageurl');
var createrommpass = document.getElementById('createrommpass');
var createrommpasstry = document.getElementById('createrommpasstry');

function createRooms(){
var createrommid = document.getElementById('createrommid');

let checklogbird = sendSync('checklogbird', '#room-id:'+createrommid.value);
setTimeout(() => {
if(!checklogbird){

if(createrommid.value.replace(/ /g, '') && createrommname.value.replace(/ /g, '') && oda_imageurl.value.replace(/ /g, '')){
if(createrommpass.value.replace(/ /g, '') == createrommpasstry.value.replace(/ /g, '') || !createrommpass.value.replace(/ /g, '') && !createrommpasstry.value.replace(/ /g, '')){

btnyarats.disabled = true;
btnyarats.innerHTML = `<img style="width: 20px;height: 20px;text-align: center;align-items: center;margin: 0 auto; border-radius: 50px; object-fit: cover;" src="assets://images/loader.gif">`;

webRtcConnet(this.dataUserXs, '#room-id:'+createrommid.value, 'open', '', '', '', '');

} else {alert('Şifreler eşleşmedi !');}
} else {
alert('Oda adı, resmi ve ıd boş bırakılamaz!');
}

} else { alert('Bu oda zaten açılmış!'); }
}, 350);
}

function loginRooms(){
btnkatils.disabled = true;
btnkatils.innerHTML = `<img style="width: 20px;height: 20px;text-align: center;align-items: center;margin: 0 auto; border-radius: 50px; object-fit: cover;" src="assets://images/loader.gif">`;
var loginrommid = document.getElementById('loginrommid');
if(loginrommid.value.replace(/ /g, '')){
webRtcConnet(this.dataUserXs, '#room-id:'+loginrommid.value, 'join', '', '', '', '');
}
}

function randomKeyids(){
var createrommid = document.getElementById('createrommid');
createrommid.value = GenerateSerialNumber("0000-000000-0000-0000000-00");
passwordChanged('createrommid','strength', 'btnyarats');
}


function passwordChanged(id,key,btnid) {
var btnid = document.getElementById(btnid);
var strength = document.getElementById(key);
var strongRegex = new RegExp("^(?=.{14,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g");
var mediumRegex = new RegExp("^(?=.{10,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$", "g");
var enoughRegex = new RegExp("(?=.{8,}).*", "g");
var pwd = document.getElementById(id);
if (pwd.value.length == 0) {
strength.innerHTML = '';
btnid.disabled = true;
} else if (false == enoughRegex.test(pwd.value)) {
strength.innerHTML =  i18n.__('Çok Kısa');
btnid.disabled = true;
} else if (strongRegex.test(pwd.value)) {
strength.innerHTML = `<span style="font-size: 10px;padding: 10px 10px;color:green">${i18n.__('Güçlü!')}</span>`;
btnid.disabled = false;
} else if (mediumRegex.test(pwd.value)) {
strength.innerHTML = `<span style="font-size: 10px;padding: 10px 10px;color:orange">${i18n.__('İdare Eder!')}</span>`;
btnid.disabled = false;
} else {
strength.innerHTML = `<span style="font-size: 10px;padding: 10px 10px;color:red">${i18n.__('Kötü!')}</span>`;
btnid.disabled = true;
}
}

function odakurpasslooks(){
var createrommpass = document.getElementById('createrommpass');
var btcreaterommpasstrynid = document.getElementById('createrommpasstry');
var odakurpassloksss = document.getElementById('odakurpassloksss');
if(createrommpass.type == 'password'){
createrommpass.type = 'text'
btcreaterommpasstrynid.type = 'text'
odakurpassloksss.style.stroke = 'chartreuse';
} else {
createrommpass.type = 'password'
btcreaterommpasstrynid.type = 'password'
odakurpassloksss.style.stroke = '';
}
}


function manuelDisconnet(){
if(this.connection){
var onays = confirm(i18n.__('Odadan Ayrılmak İstiyormusun?'));
if(onays){
this.connection.closeSocket();
setTimeout(() => {window.location.reload();}, 50);
}
} else { setTimeout(() => {window.location.reload();}, 50); }
}

function manuelSesionDelete(){
var onays = confirm(i18n.__('Çıkış yapmak istiyormusun? Her şey silinir.'));
if(onays){
send('addPocoLoginData', 'saveItem', '');
setTimeout(() => {window.location.reload();}, 300);
}
}
}


var mic_isveled = false;
var cam_isveled = false;

var mic = document.getElementById('mic');
var camera = document.getElementById('camera');
var maximize = document.getElementById('maximize');
var endcall = document.getElementById('endcall');
var startcall = document.getElementById('startcall');

function writeIdSet(){
document.getElementById('video-call-actions-on').id = 'video-call-actions-on'+this.connection.userid;
document.getElementById('video-call-actions-off').id = 'video-call-actions-off'+this.connection.userid;
document.getElementById('connectloaderstreamoff').id = 'connectloaderstreamoff'+this.connection.userid;
}


function connentMediaAll(type) { 
var getStreamIds = document.getElementById('xstreamidsetget').innerText;
var getRemoteUserIds = document.getElementById('xremoteuserididsetget').innerText;

if(type == 'screenlive'){
this.connection.mediaConstraints = {
audio: false,
video: false
};
this.connection.addStream({video: false, audio: false, screen: true});
//this.connection.mediaConstraints = {video: true};
//this.connection.addStream({video: true});
}


if(type == 'videolive'){
this.connection.mediaConstraints = {
audio: {
mandatory: {},
optional: [{
sourceId: sendSync('store', 'get', 'audioInputDevices', '')
}]
},
video: {
mandatory: {},
optional: [{
sourceId: sendSync('store', 'get', 'videoInputDevices', '')
}]
}
};
this.connection.addStream({video: true, audio: true});
//this.connection.mediaConstraints = {video: true};
//this.connection.addStream({video: true});
}

if(type == 'voicelive'){
this.connection.mediaConstraints = {
audio: {
mandatory: {},
optional: [{
sourceId: sendSync('store', 'get', 'audioInputDevices', '')
}]
},
video: false
};
this.connection.addStream({video: false, audio: true});
//this.connection.mediaConstraints = {audio: true};
//this.connection.addStream({audio: true});
}

if(type == 'liveend'){
//this.connection.removeStream({video: false, audio: false});
var stream = connection.streamEvents[getStreamIds].stream;
stream.stop();

var singleUserStreams = connection.getRemoteStreams(getRemoteUserIds);
var allUserStreams = connection.getRemoteStreams();
}

if(type == 'mic'){
var micsvgicon = document.getElementById('micsvgicon');
var streamByUserId = connection.streamEvents.selectFirst({ userid: getRemoteUserIds }).stream;
if(!mic_isveled){
micsvgicon.src="assets://images/poco/mic_off.svg";
streamByUserId.mute();
mic_isveled = true;
} else {
micsvgicon.src="assets://images/poco/mic_none.svg";
streamByUserId.unmute();
mic_isveled = false;
}
}

if(type == 'cam'){
var camsvgicon = document.getElementById('camsvgicon');
connentMediaAll('liveend');
setTimeout(() => {
var connectloaderstreamoff = document.getElementById('connectloaderstreamoff'+this.connection.userid);
var videocallactionson = document.getElementById('video-call-actions-on'+this.connection.userid);
var videocallactionsoff = document.getElementById('video-call-actions-off'+this.connection.userid);
videocallactionsoff.style.display = 'none';
videocallactionson.style.display = 'none';
connectloaderstreamoff.style.display = 'flex';
}, 50);
setTimeout(() => {
var micsvgicon = document.getElementById('micsvgicon');
mic_isveled = false;
micsvgicon.src="assets://images/poco/mic_none.svg";
if(!cam_isveled){
camsvgicon.src="assets://images/poco/cam_off.svg";
connentMediaAll('videolive');
cam_isveled = true;
} else {
//this.connection.addStream({video: false, audio: true});
camsvgicon.src="assets://images/poco/cam_none.svg";
connentMediaAll('voicelive');
cam_isveled = false;
}
}, 300);
}

}


function soundoffoninmedia(id) { 
var micsvgiconins = document.getElementById('micsvgicon'+id);

var inmediaveidoss = document.getElementById('cvideo_-'+id);
var inmediaauiosss = document.getElementById('caudio_-'+id);

if(micsvgiconins.className == 'xs_mic_off'){
micsvgiconins.src="assets://images/poco/mic_none.svg";
micsvgiconins.className = 'xs_mic_on';
if(inmediaveidoss){ inmediaveidoss.muted = false; }
if(inmediaauiosss){ inmediaauiosss.muted = false; }
} else {
micsvgiconins.src="assets://images/poco/mic_off.svg";
micsvgiconins.className = 'xs_mic_off';
if(inmediaveidoss){ inmediaveidoss.muted = true; }
if(inmediaauiosss){ inmediaauiosss.muted = true; }
}
}

function involume(id){
var xinvolume = document.getElementById('involume'+id);
if(xinvolume.style.display == 'none'){
xinvolume.style.display = 'flex'
} else { xinvolume.style.display = 'none' }
}

function monstream() { 

    
document.getElementById('screenlivecall').onclick = ()=> {
document.getElementById('selectallInputDevices').style.display = 'none';
var videocallactionson = document.getElementById('video-call-actions-on'+this.connection.userid);
var videocallactionsoff = document.getElementById('video-call-actions-off'+this.connection.userid);
var connectloaderstreamoff = document.getElementById('connectloaderstreamoff'+this.connection.userid);
videocallactionsoff.style.display = 'none';
connectloaderstreamoff.style.display = 'flex';
connentMediaAll('screenlive');
}


document.getElementById('startcall').onclick = ()=> {
document.getElementById('selectallInputDevices').style.display = 'none';
var videocallactionson = document.getElementById('video-call-actions-on'+this.connection.userid);
var videocallactionsoff = document.getElementById('video-call-actions-off'+this.connection.userid);
var connectloaderstreamoff = document.getElementById('connectloaderstreamoff'+this.connection.userid);
videocallactionsoff.style.display = 'none';
connectloaderstreamoff.style.display = 'flex';
connentMediaAll('voicelive');
}

document.getElementById('endcall').onclick = ()=> {
var videocallactionson = document.getElementById('video-call-actions-on'+this.connection.userid);
var videocallactionsoff = document.getElementById('video-call-actions-off'+this.connection.userid);
var connectloaderstreamoff = document.getElementById('connectloaderstreamoff'+this.connection.userid);
videocallactionson.style.display = 'none';
connectloaderstreamoff.style.display = 'flex'; 
connentMediaAll('liveend');
}

document.getElementById('mic').onclick = ()=> {
connentMediaAll('mic');
}

document.getElementById('camera').onclick = ()=> {
connentMediaAll('cam');
}

//document.getElementById('jklkjlk').onclick = ()=> {}

this.connection.onmute = (e)=> {
e.mediaElement.srcObject = null;
e.mediaElement.setAttribute('poster', e.extra.photo);

var micsvgiconins = document.getElementById('insound'+e.userid);
if(micsvgiconins){
micsvgiconins.disabled = true;
micsvgiconins.style.background = '#e62214';
}

if (e.type === 'remote') {}
if (e.stream.isVideo) { 
document.getElementById('xcamsvgicon'+e.userid).style.display = 'flex';
}

if (e.type === 'local') {
document.getElementById('insound'+e.userid).disabled = true;
document.getElementById('micsvgicon'+e.userid).src="assets://images/poco/mic_off.svg";
}
};

this.connection.onunmute = (e)=> {
e.mediaElement.removeAttribute('poster');
e.mediaElement.srcObject = e.stream;
var micsvgiconins = document.getElementById('insound'+e.userid);
if(micsvgiconins){
micsvgiconins.disabled = false;
micsvgiconins.style.background = 'rgba(0, 15, 47, 0.5)';
}
if (e.type === 'remote') {}
if (e.stream.isVideo) { 
document.getElementById('xcamsvgicon'+e.userid).style.display = 'none';
}

if (e.type === 'local') {
document.getElementById('insound'+e.userid).disabled = true;
document.getElementById('micsvgicon'+e.userid).src="assets://images/poco/mic_none.svg";
}
};

this.connection.onstreamended = (event) => {
var connectAdisveblesEnd = document.getElementById('connectmedia-'+event.userid);
connectAdisveblesEnd.remove();
if (event.type === 'local') {
var videocallactionson = document.getElementById('video-call-actions-on'+this.connection.userid);
var videocallactionsoff = document.getElementById('video-call-actions-off'+this.connection.userid);
var connectloaderstreamoff = document.getElementById('connectloaderstreamoff'+this.connection.userid);

videocallactionsoff.style.display = 'flex';
videocallactionson.style.display = 'none';
connectloaderstreamoff.style.display = 'none';
}

var xvideocallwrapper = document.getElementsByClassName('video-participant');
if(!xvideocallwrapper.length){
var xemptyvacls = document.getElementById('emptyvacls');
xemptyvacls.style.display = 'block';
}

if (event.type === 'local') {
//disconnet
var audioOfficsalsx = document.getElementById("audioOfficsals");
audioOfficsalsx.src = "assets://images/poco/disconnect-sound.mp3";
audioOfficsalsx.volume = 0.4;
setTimeout(() => {
audioOfficsalsx.play();
}, 5); 
}
};


this.connection.onstream = (event) => { 
var videocallactionson = document.getElementById('video-call-actions-on'+this.connection.userid);
var videocallactionsoff = document.getElementById('video-call-actions-off'+this.connection.userid);
var connectloaderstreamoff = document.getElementById('connectloaderstreamoff'+this.connection.userid);


var videocallwrapper = document.getElementById('video-call-wrapper');
var emptyvacls = document.getElementById('emptyvacls');
emptyvacls.style.display = 'none';

let createMedias = document.createElement('div');
createMedias.id = 'connectmedia-'+event.userid;
createMedias.className = 'video-participant';
createMedias.innerHTML = `
<div class="participant-actions">  
<button onclick="soundoffoninmedia('${event.userid}')" id="insound${event.userid}" style="background-image: none;"  class="btn-mute xmagnifier">
<img id="micsvgicon${event.userid}" class="xs_mic_off" style="width:20px; height:20px;filter: invert(1);" src="assets://images/poco/mic_off.svg">
</button>
<button disabled id="xcamsvgicon${event.userid}" class="btn-camera" style="display:none; background-color: #e62214;margin-right: 4px;"></button>

<button id="loaamiinvolume${event.userid}" onclick="involume('${event.userid}')" class="btn-camera" style="background-image: none;">
<svg style="stroke: white;width: 20px;height: 20px;" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings" viewBox="0 0 24 24">
<circle cx="12" cy="12" r="3"></circle>
<path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"></path>
</svg>
</button>
</div>
<a class="name-tag">${event.extra.fullName}</a>
<img id="cimage_${event.userid}" src="${event.extra.photo}">
<div style="display:none" class="volume" id="involume${event.userid}">
<input id="involumeput${event.userid}" class="volume-toggler" type="range" value="100" style="width: 100%;">
</div>
`;

createMedias.onclick = async e => {};
videocallwrapper.appendChild(createMedias);

var connectAdisvebles = document.getElementById('connectmedia-'+event.userid);
var connectMediaImage = document.getElementById('cimage_'+event.userid);


if (event.type === 'local') {
//in connet
var audioOfficsals = document.getElementById("audioOfficsals");
audioOfficsals.src = "assets://images/poco/connect-sound.mp3";
audioOfficsals.volume = 0.4;
setTimeout(() => {
audioOfficsals.play();
}, 5);

document.getElementById('insound'+event.userid).disabled = true;
document.getElementById('micsvgicon'+event.userid).src="assets://images/poco/mic_none.svg";

videocallactionsoff.style.display = 'none';
videocallactionson.style.display = 'flex';
connectloaderstreamoff.style.display = 'none';

document.getElementById('xstreamidsetget').innerText = event.streamid;
document.getElementById('xremoteuserididsetget').innerText = event.userid;
document.getElementById('loaamiinvolume'+event.userid).remove();

if (event.stream.isVideo) { 
connectMediaImage.style.display = 'none';
var createMediaVideo = event.mediaElement;
createMediaVideo.id = 'cvideo_-'+event.userid;
createMediaVideo.className = 'video-connadds';
createMediaVideo.controls = false;
createMediaVideo.muted = true;
createMediaVideo.poster = event.extra.avatar;
connectAdisvebles.appendChild(createMediaVideo);
}

if (event.stream.isAudio) {
connectMediaImage.style.display = 'block';
var createMediaAudio = event.mediaElement;
createMediaAudio.id = 'caudio_-'+event.userid;
createMediaAudio.className = 'audip-connadds';
createMediaAudio.controls = false;
createMediaAudio.muted = true;
connectAdisvebles.appendChild(createMediaAudio);
}
}

if (event.type === 'remote') {
//in connet
var audioOfficsals = document.getElementById("audioOfficsals");
audioOfficsals.src = "assets://images/poco/notification-sound.mp3";
audioOfficsals.volume = 0.4;
setTimeout(() => {
audioOfficsals.play();
}, 5);

if (event.stream.isVideo) {
connectMediaImage.style.display = 'none';
var createMediaVideo = event.mediaElement;
createMediaVideo.id = 'cvideo_-'+event.userid;
createMediaVideo.className = 'video-connadds';
createMediaVideo.controls = false;
createMediaVideo.muted = true;
createMediaVideo.poster = event.extra.avatar;
connectAdisvebles.appendChild(createMediaVideo);
setTimeout(() => {
const volumeToggler = document.getElementById('involumeput'+event.userid);
const volumeTogglerMedia = document.getElementById('cvideo_-'+event.userid);
console.log(volumeToggler);
volumeToggler.addEventListener('input', (e) => {
const value = e.target.value;
const volume = value / 100;
volumeTogglerMedia.volume = volume;
});
}, 250);
}

if (event.stream.isAudio) {
connectMediaImage.style.display = 'block';
var createMediaAudio = event.mediaElement;
createMediaAudio.id = 'caudio_-'+event.userid;
createMediaAudio.className = 'audip-connadds';
createMediaAudio.controls = false;
createMediaAudio.muted = true;
connectAdisvebles.appendChild(createMediaAudio);
setTimeout(() => {
const volumeToggler = document.getElementById('involumeput'+event.userid);
const volumeTogglerMedia = document.getElementById('caudio_-'+event.userid);
volumeToggler.addEventListener('input', (e) => {
const value = e.target.value;
const volume = value / 100;
volumeTogglerMedia.volume = volume;
//volumeIndicator.style.width = value + '%';
});
}, 250);
}
}



/*
if (event.stream.isScreen) {
// it is screen
}

if (event.stream.isAudio) {
// it is Audio_Only stream
}

if (event.stream.isVideo) {
if (event.stream.getAudioTracks().length && event.stream.getVideoTracks().length) {
// Audio+Video stream
} else {
// Video-Only stream
}
}
*/


/*
if (event.type === 'local') {
yourOwnVideo.src = URL.createObjectURL(event.stream);
}

if (event.type === 'remote') {
remoteVideo.src = URL.createObjectURL(event.stream);
}
*/

/*
if(event.type === 'local'){
document.getElementById('local-videos-container').appendChild( event.mediaElement );
}

if(event.type === 'remote'){
document.getElementById('remote-videos-container').appendChild( event.mediaElement );
}
*/
};

}

//navigator.mediaDevices.getUserMedia

/*
navigator.mediaDevices.getDisplayMedia({
video: true
}).then(externalStream => {
this.connection.addStream(externalStream);
}, error => {
alert(error);
});*/


function changeDevicesPutIn(event, type){
var deviceid = event.target.value;
send('store', 'set', type, deviceid);
}

function inputoutpuVisebled() {
let selectallInputDevices = document.getElementById('selectallInputDevices');
if(selectallInputDevices.style.display == 'none'){
selectallInputDevices.style.display = 'block';
} else {
selectallInputDevices.style.display = 'none';
}
}

function webRtcConnet (userData, xroomid, type, xhistory, xhistoryPass, xxroomname, xxroomavatar){
this.connection = new RTCMultiConnection();

// this line is VERY_important
this.connection.socketURL = 'https://rtcmulticonnection.herokuapp.com:443/';

// if you want text chat
this.connection.session = {
data: true
};



this.connection.DetectRTC.load(()=> { 
// you can access all microphones using "DetectRTC.audioInputDevices"
this.connection.DetectRTC.audioInputDevices.forEach((device)=> {
if(!sendSync('store', 'get', 'audioInputDevices', '')){send('store', 'set', 'audioInputDevices', device.id);}
if(sendSync('store', 'get', 'audioInputDevices', '') == device.id){ var selectedd = true; } else {var selectedd = false;}
var option = document.createElement('option');
// this is what people see
option.innerHTML = device.label;
// but this is what inernally used to select relevant device
option.value = device.id; 
option.selected = selectedd;
// append to your choice
// document.querySelector('select').appendChild(option);
document.getElementById('selectaudioInputDevices').appendChild(option);
});


// you can access all cameras using "DetectRTC.videoInputDevices"
this.connection.DetectRTC.videoInputDevices.forEach((device)=> {
if(!sendSync('store', 'get', 'videoInputDevices', '')){
send('store', 'set', 'videoInputDevices', device.id);
}
if(sendSync('store', 'get', 'videoInputDevices', '') == device.id){ var selecteddd = true; } else {var selecteddd = false;}
var option = document.createElement('option');
// this is what people see
option.innerHTML = device.label;
// but this is what inernally used to select relevant device
option.value = device.id;
option.selected = selecteddd;
// append to your choice
document.querySelector('select').appendChild(option);
document.getElementById('selectvideoInputDevices').appendChild(option);
});
});


/*
this.connection.mediaConstraints = {
video: false,
audio: false
};
*/

this.connection.mediaConstraints = {
audio: {
mandatory: {},
optional: [{
sourceId: sendSync('store', 'get', 'audioInputDevices', '')
}]
},
video: {
mandatory: {},
optional: [{
sourceId: sendSync('store', 'get', 'videoInputDevices', '')
}]
}
};


this.connection.sdpConstraints.mandatory = {
OfferToReceiveAudio: true,
OfferToReceiveVideo: true
};

var roomname = '';
var roomavatar = '';
var roompass = '';

this.connection.extra = {
fullName: userData.fullname,
email: userData.username,
photo: userData.avatar
};

monstream();

this.connection.onmessage = function(event) {
//alert(event.userid + ' said: ' + event.data);

if (event.data == 'typing') {
let typingsss = document.getElementById('typingsss');
typingsss.style.display = 'flex';
typingsss.innerHTML = event.extra.fullName + ' '+i18n.__('Yazıyor...');
setTimeout(() => {
typingsss.style.display = 'none';
typingsss.innerHTML = '';
}, 1000);
} else {

//console.log(event.extra.fullName + ' said: ' + event.data);

let cMessagecontent = document.getElementById('chat-area-le');
let createMessages = document.createElement('div');
createMessages.id = 'message-wrapper';
createMessages.className = 'message-wrapper';
createMessages.innerHTML = `
<div class="profile-picture">
<img src="${event.extra.photo}" alt="pp">
</div>
<div class="message-content">
<p class="name">${event.extra.fullName}</p>
<div class="message">${urlify(event.data)}</div>
</div>
`;
createMessages.onclick = async e => {
};

if(cMessagecontent.scrollTop == cMessagecontent.scrollHeight - cMessagecontent.clientHeight) {
setTimeout(() => {
cMessagecontent.scrollTop = cMessagecontent.scrollHeight;
}, 200);
}

cMessagecontent.appendChild(createMessages);

}
}


connection.onopen = function(event) { 
//console.log(event.extra.fullName + ' Sohbete Katıldı');
let cMessagecontent = document.getElementById('chat-area-le');
let createMessages = document.createElement('div');
createMessages.id = 'message-wrapper';
createMessages.className = 'message-wrapper reverse injoinusers';
createMessages.innerHTML = `
<div class="profile-picture">
<img src="${event.extra.photo}" alt="pp">
</div>
<div class="message-content">
<p class="name">${event.extra.fullName}</p>
<p class="name">${i18n.__('Sohbete Katıldı.')}</p>
</div>
`;
createMessages.onclick = async e => {};

if(cMessagecontent.scrollTop == cMessagecontent.scrollHeight - cMessagecontent.clientHeight) {
setTimeout(() => {
cMessagecontent.scrollTop = cMessagecontent.scrollHeight;
}, 200);
}

cMessagecontent.appendChild(createMessages);

let xparticipants = document.getElementById('addnewjoinedusers');
let createOnliOfliUsers = document.createElement('div');
createOnliOfliUsers.id = event.userid;
createOnliOfliUsers.className = 'participant profile-picture';
createOnliOfliUsers.innerHTML = `
<div style="width: 10px;height: 10px;background: #8BC34A;position: absolute;border-radius: 50px;"></div>
<img src="${event.extra.photo}" title="${event.extra.fullName}">
`;
createOnliOfliUsers.onclick = async e => {};
xparticipants.appendChild(createOnliOfliUsers);

var isOfflinec = event.status === 'offline';
var targetUserIdc = event.userid;
let checkuserıdindac = document.getElementById(targetUserIdc);
if(isOfflinec && checkuserıdindac){checkuserıdindac.remove();}
}

connection.onUserStatusChanged = function(event) { 
var isOnline = event.status === 'online';
var isOffline = event.status === 'offline';

var targetUserId = event.userid;
var targetUserExtraInfo = event.extra; // extra.fullName/etc

let checkuserıdinda = document.getElementById(targetUserId);

if(isOffline && checkuserıdinda){checkuserıdinda.remove();}

if(isOnline && !checkuserıdinda && targetUserId && event.extra.fullName){}
}

setTimeout(() => {
if(document.getElementById('roomidinputs')){document.getElementById('roomidinputs').value = xroomid.replaceAll('#room-id:', '');}
}, 500);

if(!xhistory){

this.connection.checkPresence(xroomid, function(isRoomExist, roomid, extra) {
if(type == 'join'){
if (isRoomExist === true) {
/*this.connection.join(roomid);*/
this.connection.join(roomid, function(isRoomJoined, roomid, error) {
/*if(error) {alert(error);}*/
if (error) {
if (error === 'Invalid password') {
var xpassword = prompt(i18n.__('Oda Şifrsini Girin'));
if (!xpassword || !xpassword.length) {
alert(i18n.__('Şifre Gerekli!'));
btnkatils.innerHTML = i18n.__('Katıl');
btnkatils.disabled = false;
return;
} 
if(sha1(xpassword) == extra.password){
this.connection.password = sha1(xpassword);
this.connection.join(roomid);
/*alert('Successfully joined the room.');*/
odakurs.style.display = "none";
chatsconnect.style.display = "";
callsconnect.style.display = "";
send('logbird', xroomid, extra.roomname, extra.roomavatar, extra.roompass, extra.username, type);
setTimeout(() => {writeIdSet();}, 150);
return;
}
else {
alert(i18n.__('Şifre Kabul Edilmedi!'));
btnkatils.innerHTML = i18n.__('Katıl');
btnkatils.disabled = false;
return;
}
} 
if (error === 'Room not available') {
alert(i18n.__('This room does not exist. Please either create it or wait for moderator to enter in the room.'));
btnkatils.innerHTML = i18n.__('Katıl');
btnkatils.disabled = false;
return;
}
alert(error);
}
if(isRoomJoined === true) {
/*alert('Successfully joined the room.');*/
odakurs.style.display = "none";
chatsconnect.style.display = "";
callsconnect.style.display = "";
send('logbird', xroomid, extra.roomname, extra.roomavatar, extra.roompass, extra.username, type);
setTimeout(() => {writeIdSet();}, 150);
}
});
} else {
alert(i18n.__('Üzgünüz böyle bir oda yok.'));
btnkatils.innerHTML = i18n.__('Katıl');
btnkatils.disabled = false;
}
}

if(type == 'open'){
if (isRoomExist === true) {
alert(i18n.__('Üzgünüz bu oda zaten mevcut.'));
btnyarats.innerHTML = i18n.__('Oluştur');
btnyarats.disabled = false;
} else {
/*connection.open(roomid);*/

//var xspassword = prompt(i18n.__('Şifre Belirle, Zorun Değil'));
var xodaname = createrommname.value
var xodaimageurl = oda_imageurl.value
var xspassword = createrommpass.value;

if(createrommpass.value.replace(/ /g, '')){
this.connection.extra.password = sha1(xspassword);
this.connection.password = sha1(xspassword);
}

this.connection.open(roomid, function(isRoomOpened, roomid, error) {
if(error) {
alert(error);
}
if(isRoomOpened === true) {
/*alert('Successfully created the room.');*/
odakurs.style.display = "none";
chatsconnect.style.display = "";
callsconnect.style.display = "";

this.connection.extra.roomname = xodaname;
this.connection.extra.roomavatar = xodaimageurl;
this.connection.extra.roompass = xspassword;

send('logbird', xroomid, xodaname, xodaimageurl, xspassword, userData.username, type);
setTimeout(() => {writeIdSet();}, 150);
}
});
}
}
});

} 
else {
this.connection.checkPresence(xroomid, function(isRoomExist, roomid, extra) {
if (isRoomExist === true) {
/*oda var*/
this.connection.join(roomid, function(isRoomJoined, roomid, error) {
if (error) {
if (error === 'Invalid password') {
var xpassword = xhistoryPass;
if(sha1(xpassword) == extra.password){
this.connection.password = sha1(xpassword);
this.connection.extra.roomname = xxroomname;
this.connection.extra.roomavatar = xxroomavatar;
this.connection.extra.roompass = xhistoryPass;
this.connection.join(roomid);
/*alert('Successfully joined the room.');*/
odakurs.style.display = "none";
chatsconnect.style.display = "";
callsconnect.style.display = "";
this.prossloaderss.style.display = 'none';
setTimeout(() => {writeIdSet();}, 150);
return;
}
else {
alert(i18n.__('Şifre Yanlış. Bu Oda Artık Güvenli Değil! Kaldırın!'));
this.prossloaderss.style.display = 'none';
return;
}
} 
if (error === 'Room not available') {
alert(i18n.__('This room does not exist. Please either create it or wait for moderator to enter in the room.'));
this.prossloaderss.style.display = 'none';
return;
}
alert(error);
}
if(isRoomJoined === true) {
/*alert('Successfully joined the room.');*/
odakurs.style.display = "none";
chatsconnect.style.display = "";
callsconnect.style.display = "";
this.prossloaderss.style.display = 'none';
setTimeout(() => {writeIdSet();}, 150);
}
});
} 
else {
/*oda yok*/
if(xhistoryPass){
this.connection.extra.password = sha1(xhistoryPass);
this.connection.password = sha1(xhistoryPass);
}

this.connection.extra.roomname = xxroomname;
this.connection.extra.roomavatar = xxroomavatar;
this.connection.extra.roompass = xhistoryPass;

this.connection.openOrJoin(xroomid, function(isRoomOpened, isRoomCreated, roomid, error) {
if(error) {alert(error);}
if(isRoomOpened === true) {
this.prossloaderss.style.display = 'none';
odakurs.style.display = "none";
chatsconnect.style.display = "";
callsconnect.style.display = "";
setTimeout(() => {writeIdSet();}, 150);
if (connection.isInitiator === true) {/* you opened the room*/} else {/* you joined it*/}
}
});
}
});
}

/*connection.socketMessageEvent = xroomid;*/
}


window.addEventListener('unload', async e => {
this.connection.closeSocket();
});

if(document.getElementById('chatmessgess')){
document.getElementById('chatmessgess').addEventListener('keyup', async e => { 
this.connection.send('typing');
});

document.getElementById('chatmessgess').addEventListener('keypress', async e => { 
if(e.keyCode === 13){
sendMessage();
}
});
}

function sendMessage(){
var messages = document.getElementById('chatmessgess');
if(messages.value.replace(/ /g, '')){
//connection.onopen = function(event) {};
this.connection.send(messages.value);

let cMessagecontent = document.getElementById('chat-area-le');
let createMessages = document.createElement('div');
createMessages.id = 'message-wrapper';
createMessages.className = 'message-wrapper reverse';
createMessages.innerHTML = `
<div class="profile-picture">
<img src="${this.dataUserXs.avatar}" alt="pp">
</div>
<div class="message-content">
<p class="name">${this.dataUserXs.fullname}</p>
<div class="message">${urlify(messages.value)}</div>
</div>
`;
createMessages.onclick = async e => {};

cMessagecontent.appendChild(createMessages);
messages.value = "";
messages.focus();
cMessagecontent.scrollTop = cMessagecontent.scrollHeight;
}
}

function urlify(text) {
var urlRegex = /(https?:\/\/[^\s]+)/g;
return text.replace(urlRegex, function(url) {
return '<a class="linkmessages" target="_blank" href="' + url + '">' + url + '</a>';
})
// or alternatively
// return text.replace(urlRegex, '<a href="$1">$1</a>')
}

function openRoomHistoy(roomid,password,roomname,roomavatar){
if(this.connection){this.connection.closeSocket();}
this.prossloaderss.style.display = 'block';
webRtcConnet(this.dataUserXs, roomid, 'openOrjoin', true, password, roomname, roomavatar);
}
</script>

<script>
/* Select Photo Render Pross */
function tumbImageLoad(image) {
let resize = 150;
let quality = 0.6;

const img = new Image();
img.src = image;

img.onload = () => {
const canvas = document.createElement('canvas');
let ctxTumb = canvas.getContext('2d');
let picaWidth; let picaHeight;

let maxWH = resize;

if (img.width > img.height) {
picaWidth = maxWH;
picaHeight = maxWH * img.height / img.width
} else {
picaWidth = maxWH * img.width / img.height;
picaHeight = maxWH;
}

canvas.width = picaWidth;
canvas.height = picaHeight;

ctxTumb.fillStyle = 'white'
ctxTumb.fillRect(0, 0, picaWidth, picaHeight);
ctxTumb.drawImage(img, 0, 0, picaWidth, picaHeight);

const resultImageCrop = canvas.toDataURL('image/jpeg', quality);

setTimeout(() => {
if(resultImageCrop){
var f_imageurlx = document.getElementById('f_imageurl');
f_imageurlx.value = resultImageCrop;
var getimageload = document.getElementById("getimageload");
getimageload.style.display = 'block';
getimageload.src = resultImageCrop;
}
}, 800);

}
}

/* Select Photo Render Start */
function processImageLoad(image){
tumbImageLoad(image); 
}

function selectImages (){
document.getElementById("selecImagePıckers").click();
}

if(document.getElementById('selecImagePıckers')){document.getElementById('selecImagePıckers').addEventListener('change', inputSelectPictureNewsPicker);}

function inputSelectPictureNewsPicker(event) {
var getimageload = document.getElementById("getimageload");
var MAX_FILE_SIZE_ORGIN = 6 * 1024 * 1024;
var file = event.srcElement.files[0]; 
if(file){
if(file.type == 'image/png' || file.type == 'image/PNG' || file.type == 'image/jpeg' || file.type == 'image/JPEG' || file.type == 'image/jpg' || file.type == 'image/JPG'){
if (file.size > MAX_FILE_SIZE_ORGIN){ 
} else {
var reader = new FileReader();
//let reader = this.getFileReader();
getimageload.style.display = 'block';
getimageload.src = 'assets://images/loader.gif';


reader.onload = () => {
var result_images = reader.result; 
processImageLoad(result_images);
setTimeout(() => { if(reader) { reader.abort(); } }, 100);
};

reader.onerror = () => {
getimageload.style.display = 'none';
getimageload.src = '//:0';
setTimeout(() => { if(reader) { reader.abort(); } }, 100);
};


// Onload Function will run after video has loaded
reader.readAsDataURL(file);

}
} else {}
} else {}
}
















/* Select Photo Render Pross Oda Resim */
function processImageLoadOda(image) {
let resize = 150;
let quality = 0.5;

const img = new Image();
img.src = image;

img.onload = () => {
const canvas = document.createElement('canvas');
let ctxTumb = canvas.getContext('2d');
let picaWidth; let picaHeight;

let maxWH = resize;

if (img.width > img.height) {
picaWidth = maxWH;
picaHeight = maxWH * img.height / img.width
} else {
picaWidth = maxWH * img.width / img.height;
picaHeight = maxWH;
}

canvas.width = picaWidth;
canvas.height = picaHeight;

ctxTumb.fillStyle = 'white'
ctxTumb.fillRect(0, 0, picaWidth, picaHeight);
ctxTumb.drawImage(img, 0, 0, picaWidth, picaHeight);

const resultImageCrop = canvas.toDataURL('image/jpeg', quality);

setTimeout(() => {
if(resultImageCrop){
var f_imageurlxoda = document.getElementById('oda_imageurl');
f_imageurlxoda.value = resultImageCrop;
var getimageloadoda = document.getElementById("getimageloadoda");
var svgodaimageup = document.getElementById("svgodaimageup");
getimageloadoda.style.display = 'block';
getimageloadoda.src = resultImageCrop;
svgodaimageup.style.display = 'none';
}
}, 800);

}
}


function imageuploads (){
document.getElementById("selecImagePıckersOda").click();
}

if(document.getElementById('selecImagePıckersOda')){document.getElementById('selecImagePıckersOda').addEventListener('change', inputSelectPictureNewsPickerOda);}

function inputSelectPictureNewsPickerOda(event) {
var getimageload = document.getElementById("getimageloadoda");
var MAX_FILE_SIZE_ORGIN = 6 * 1024 * 1024;
var file = event.srcElement.files[0]; 
if(file){
if(file.type == 'image/png' || file.type == 'image/PNG' || file.type == 'image/jpeg' || file.type == 'image/JPEG' || file.type == 'image/jpg' || file.type == 'image/JPG'){
if (file.size > MAX_FILE_SIZE_ORGIN){ 
} else {
var reader = new FileReader();
//let reader = this.getFileReader();
getimageloadoda.style.display = 'block';
getimageloadoda.src = 'assets://images/loader.gif';


reader.onload = () => {
var result_images = reader.result; 
processImageLoadOda(result_images);
setTimeout(() => { if(reader) { reader.abort(); } }, 100);
};

reader.onerror = () => {
getimageloadoda.style.display = 'none';
getimageloadoda.src = '//:0';
setTimeout(() => { if(reader) { reader.abort(); } }, 100);
};


// Onload Function will run after video has loaded
reader.readAsDataURL(file);

}
} else {}
} else {}
}

</script>

<!-- partial -->
<script src="assets://js/page/poco/jquery.min.js"></script>
<script>
$(document).ready(function(){
$('button.mode-switch').click(function(){
$('body').toggleClass('dark');
});

$(".btn-close-right").click(function () {
$(".right-side").removeClass("show");
$(".expand-btn").addClass("show");
});

$(".expand-btn").click(function () {
$(".right-side").addClass("show");
$(this).removeClass("show");
});
});

// Serial Number Generator
// Generates a random number in a certain interval
function GenerateRandomNumber(min,max)
{
return Math.floor(Math.random() * (max - min + 1)) + min;
}

// Generates a random alphanumberic character
function GenerateRandomChar() {
var chars = "1234567890AaBbCcDdEeFfGgIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz";
var randomNumber = GenerateRandomNumber(0,chars.length - 1);

return chars[randomNumber];
}

// Generates a Serial Number, based on a certain mask
function GenerateSerialNumber(mask){
var serialNumber = "";

if(mask != null)
{
for(var i=0; i < mask.length; i++)
{
var maskChar = mask[i];

serialNumber += maskChar == "0" ? GenerateRandomChar() : maskChar;
}
}

return serialNumber;
}

function openrommidloooks(id){
var ipassx = document.getElementById(id);
navigator.clipboard.writeText(ipassx.value).then(function () {
alert(i18n.__('It worked! Do a CTRL - V to paste'))
}, function () {
alert(i18n.__('Failure to copy. Check permissions for clipboard'))
});
if(ipassx.type == 'password'){
//ipassx.type = 'text'
} else {
//ipassx.type = 'password'
}
}
/*
document.addEventListener('click', async e => { 
if(e.target.localName == 'a') { 
if(e.target.target == '_blank') {
e.preventDefault();
ipcRenderer.send('openPageNews', e.target.href);
}
}
});*/
</script>
</body>
</html>